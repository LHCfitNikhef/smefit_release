
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>SMEFiT Tutorial &#8212; SMEFiT 3.1.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css?v=2aa19091" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=f74d80cf" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=2d67777c"></script>
    <script src="../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'fitting_code/tutorial';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Report functions" href="../report/tools.html" />
    <link rel="prev" title="How to run the code" href="running.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">SMEFiT 3.1.1 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Theory:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../theory/SMEFT.html">Standard Model Effective Field Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory/general.html">Fitting assumptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory/NS.html">Nested Sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory/Analytic.html">Analytic solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory/MCFit.html">The Monte Carlo replica method</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data and theory tables:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../data_theory/data.html">Experimental data format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_theory/theory.html">Theory tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_theory/covariance.html">Construction of the fit covariance matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_theory/rotation.html">Basis rotation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data_theory/projections.html">Projections</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Fitting code:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="code_struct.html">Code structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">How to run the code</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">SMEFiT Tutorial</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reports:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../report/tools.html">Report functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../report/running.html">Produce a report</a></li>
<li class="toctree-l1"><a class="reference internal" href="../report/links.html">Link to reports</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Previous studies:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../previous_releases/smefit_rw.html">SMEFiT RW</a></li>
<li class="toctree-l1"><a class="reference internal" href="../previous_releases/smefit_top.html">SMEFiT Top</a></li>
<li class="toctree-l1"><a class="reference internal" href="../previous_releases/smefit_vbs.html">SMEFiT VBS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../previous_releases/smefit20.html">SMEFiT2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../previous_releases/smefit_uv.html">The automation of SMEFT-Assisted Constraints on UV-Complete Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../previous_releases/smefit30.html">SMEFiT3.0</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Collaboration:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../people/people.html">People</a></li>

</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">References &amp; API:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../modules/smefit/smefit.html">API</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../modules/smefit/smefit.analyze.html">smefit.analyze package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/smefit/smefit.cli.html">smefit.cli package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/smefit/smefit.optimize.html">smefit.optimize package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/smefit/smefit.postfit.html">smefit.postfit package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/smefit/smefit.prefit.html">smefit.prefit package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/smefit/smefit.projections.html">smefit.projections package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/smefit/smefit.rge.html">smefit.rge package</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../zzz-refs.html">References</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/fitting_code/tutorial.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>SMEFiT Tutorial</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#What-is-SMEFiT?">What is SMEFiT?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Exercise-0---Installing-SMEFiT">Exercise 0 - Installing SMEFiT</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Exercise-1---Our-first-fit-with-SMEFiT">Exercise 1 - Our first fit with SMEFiT</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Exercise-2---Adding-more-measurements">Exercise 2 - Adding more measurements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Exercise-3---quadratic-fits">Exercise 3 - quadratic fits</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="SMEFiT-Tutorial">
<h1>SMEFiT Tutorial<a class="headerlink" href="#SMEFiT-Tutorial" title="Link to this heading">#</a></h1>
<p>Author: Jaco ter Hoeve</p>
<p>To run this notebook remotely in Google Colab, click the button below</p>
<p><a class="reference external" href="https://colab.research.google.com/github/LHCfitNikhef/smefit_release/blob/main/docs/source/fitting_code/tutorial.ipynb"><img alt="Open In Colab" src="https://colab.research.google.com/assets/colab-badge.svg" /></a></p>
<p>and make sure to click “Copy to drive” at the top to create a copy that you may edit.</p>
<section id="What-is-SMEFiT?">
<h2>What is SMEFiT?<a class="headerlink" href="#What-is-SMEFiT?" title="Link to this heading">#</a></h2>
<p>SMEFiT is a Python package for global analyses of particle physics data in the framework of the Standard Model Effective Field Theory (SMEFT). The SMEFT represents a powerful model-independent framework to constrain, identify, and parametrize potential deviations with respect to the predictions of the Standard Model (SM). A particularly attractive feature of the SMEFT is its capability to systematically correlate deviations from the SM between different processes. The full exploitation of the
SMEFT potential for indirect New Physics searches from precision measurements requires combining the information provided by the broadest possible dataset, namely carrying out extensive global analysis which is the main purpose of SMEFiT.</p>
<p>In case you would like a recap on the basic ideas underlying the SMEFT, see <a class="reference external" href="https://lhcfitnikhef.github.io/smefit_release/theory/SMEFT.html">https://lhcfitnikhef.github.io/smefit_release/theory/SMEFT.html</a></p>
<p>SMEFiT has been used in the following publications</p>
<ul class="simple">
<li><p><em>A Monte Carlo global analysis of the Standard Model Effective Field Theory: the top quark sector</em>, N. P. Hartland, F. Maltoni, E. R. Nocera, J. Rojo, E. Slade, E. Vryonidou, C. Zhang.</p></li>
<li><p><em>Constraining the SMEFT with Bayesian reweighting</em>, S. van Beek, E. R. Nocera, J. Rojo, and E. Slade.</p></li>
<li><p><em>SMEFT analysis of vector boson scattering and diboson data from the LHC Run II</em> , J. Ethier, R. Gomez-Ambrosio, G. Magni, J. Rojo.</p></li>
<li><p><em>Combined SMEFT interpretation of Higgs, diboson, and top quark data from the LHC</em>, J. Ethier, G.Magni, F. Maltoni, L. Mantani, E. R. Nocera, J. Rojo, E. Slade, E. Vryonidou, C. Zhang .</p></li>
<li><p><em>The automation of SMEFT-assisted constraints on UV-complete models</em>, J. ter Hoeve, G. Magni, J. Rojo, A. N. Rossia, E. Vryonidou .</p></li>
<li><p><em>Mapping the SMEFT at High-Energy Colliders: from LEP and the (HL-)LHC to the FCC-ee</em>, E.Celada, T. Giani, J. ter Hoeve, L. Mantani, J. Rojo, A. N. Rossia, M. O. A. Thomas, E. Vryonidou.</p></li>
</ul>
</section>
<section id="Exercise-0---Installing-SMEFiT">
<h2>Exercise 0 - Installing SMEFiT<a class="headerlink" href="#Exercise-0---Installing-SMEFiT" title="Link to this heading">#</a></h2>
<p>First things first, let us install SMEFiT:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!pip install smefit
</pre></div>
</div>
</div>
<p>For the purpose of this tutorial, we also need the following additional packages</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!pip install wget
!pip install ipywidgets
import os
import wget
import subprocess
import matplotlib as mpl
from IPython.display import Image

mpl.rcParams.update(mpl.rcParamsDefault)
</pre></div>
</div>
</div>
<p>Download the smefit datasets and runcards</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def file_downloader(url, download_dir=&#39;./downloads&#39;):

    if not os.path.exists(download_dir):
        os.mkdir(download_dir)

    file = wget.download(url, out=download_dir)
    return file

smefit_database = file_downloader(&#39;https://github.com/LHCfitNikhef/smefit_database/archive/refs/heads/main.zip&#39;)
runcards = file_downloader(&#39;https://smefit.science/_static/runcards_tutorial.tgz&#39;)

subprocess.run([f&quot;unzip {smefit_database} -d ./downloads&quot;], capture_output=False, shell=True, text=False)
subprocess.run([f&quot;tar xzf ./downloads/runcards_tutorial.tgz -C ./downloads&quot;], capture_output=False, shell=True, text=False)
</pre></div>
</div>
</div>
</section>
<section id="Exercise-1---Our-first-fit-with-SMEFiT">
<h2>Exercise 1 - Our first fit with SMEFiT<a class="headerlink" href="#Exercise-1---Our-first-fit-with-SMEFiT" title="Link to this heading">#</a></h2>
<p>In this first exercise, we will study the relative impact of various datasets on a two-dimensional SMEFT parameter space. Consider the four-fermion Wilson coefficients <span class="math notranslate nohighlight">\(c_{Qq}^{1, 8}\)</span> and <span class="math notranslate nohighlight">\(c_{Qq}^{3,8}\)</span>, defined as</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align}
c_{Qq}^{1,8} &amp;= c_{qq}^{1(i33i)} + 3 c_{qq}^{3(i33i)} \\
c_{Qq}^{3,8} &amp;= c_{qq}^{1(i33i)} - c_{qq}^{3(i33i)} \, ,
\end{align}\end{split}\]</div>
<p>with the corresponding operators on the RHS given by</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align}
\mathcal{O}_{qq}^{1(i33i)} &amp;= \left(\bar{q}_i\gamma^\mu Q \right)\left(\bar{Q} \gamma_\mu q_i\right) \\
\mathcal{O}_{qq}^{3(i33i)} &amp;= \left(\bar{q}_i\gamma^\mu \tau^I Q \right)\left(\bar{Q} \gamma_\mu \tau^I q_l\right) \, .
\end{align}\end{split}\]</div>
<p>Here the fields <span class="math notranslate nohighlight">\(q_i\)</span> and <span class="math notranslate nohighlight">\(Q\)</span> constitute respectively the light (<span class="math notranslate nohighlight">\(i=1,2\)</span>) and heavy quark <span class="math notranslate nohighlight">\(SU(2)\)</span> doublets, while the <span class="math notranslate nohighlight">\(\tau^I\)</span> are the usual Pauli matrices.</p>
<p><strong>Question 1A</strong></p>
<ul class="simple">
<li><p>Do <span class="math notranslate nohighlight">\(\mathcal{O}_{qq}^{1(ijkl)}\)</span> and <span class="math notranslate nohighlight">\(\mathcal{O}_{qq}^{3(ijkl)}\)</span> define valid SMEFT operators at dimension-six? If so, why?</p></li>
</ul>
<p>These operators modify SM processes measured at the LHC, and hence provide a probe to study possible new physics beyond the SM. The goal of the rest of this exercise is to set bounds on the corresponding Wilson coefficients to check whether current data is compatible with the SM or not.</p>
<p><strong>Question 1B</strong></p>
<ul class="simple">
<li><p>Consider top-pair production in association with a Z or W boson. Convince yourself by drawing a representative Feynman diagram that the operators defined above modify <span class="math notranslate nohighlight">\(ttV\)</span> (<span class="math notranslate nohighlight">\(V=W, Z)\)</span> production.</p></li>
</ul>
<p>To run the fit, we need a runcard. An example is given below. In this first exercise we will provide all runcards, so no need to write them yourself.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># smefit_runcard.yaml</span>

<span class="c1"># name to give to fit</span>
<span class="nt">result_ID</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ttV</span>

<span class="c1"># path where results are stored</span>
<span class="nt">result_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./results</span>

<span class="c1"># path to data</span>
<span class="nt">data_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./downloads/smefit_database-main/commondata</span>

<span class="c1"># path to theory tables</span>
<span class="nt">theory_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./downloads/smefit_database-main/theory</span>

<span class="c1"># perturbatve QCD order (LO or NLO)</span>
<span class="nt">order</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NLO</span>

<span class="c1"># include theory uncertainties</span>
<span class="nt">use_theory_covmat</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="nt">use_t0</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>

<span class="c1"># SMEFT Expansion Order (NHO = Lambda^-2 , HO = Lambda^-4)</span>
<span class="nt">use_quad</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>

<span class="c1"># number of samples</span>
<span class="nt">n_samples</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20000</span>


<span class="c1"># Datasets to include</span>
<span class="nt">datasets</span><span class="p">:</span>

<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">CMS_ttZ_13TeV</span><span class="p p-Indicator">,</span><span class="nt"> order</span><span class="p">:</span><span class="w"> </span><span class="nv">NLO_QCD</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">CMS_ttZ_13TeV_pTZ</span><span class="p p-Indicator">,</span><span class="nt"> order</span><span class="p">:</span><span class="w"> </span><span class="nv">NLO_QCD</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">CMS_ttZ_8TeV</span><span class="p p-Indicator">,</span><span class="nt"> order</span><span class="p">:</span><span class="w"> </span><span class="nv">NLO_QCD</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">ATLAS_ttZ_13TeV</span><span class="p p-Indicator">,</span><span class="nt"> order</span><span class="p">:</span><span class="w"> </span><span class="nv">NLO_QCD</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">ATLAS_ttZ_13TeV_2016</span><span class="p p-Indicator">,</span><span class="nt"> order</span><span class="p">:</span><span class="w"> </span><span class="nv">NLO_QCD</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">ATLAS_ttZ_13TeV_pTZ</span><span class="p p-Indicator">,</span><span class="nt"> order</span><span class="p">:</span><span class="w"> </span><span class="nv">NLO_QCD</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">ATLAS_ttZ_8TeV</span><span class="p p-Indicator">,</span><span class="nt"> order</span><span class="p">:</span><span class="w"> </span><span class="nv">NLO_QCD</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">CMS_ttW_13TeV</span><span class="p p-Indicator">,</span><span class="nt"> order</span><span class="p">:</span><span class="w"> </span><span class="nv">NLO_QCD</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">CMS_ttW_8TeV</span><span class="p p-Indicator">,</span><span class="nt"> order</span><span class="p">:</span><span class="w"> </span><span class="nv">NLO_QCD</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">ATLAS_ttW_13TeV</span><span class="p p-Indicator">,</span><span class="nt"> order</span><span class="p">:</span><span class="w"> </span><span class="nv">NLO_QCD</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">ATLAS_ttW_13TeV_2016</span><span class="p p-Indicator">,</span><span class="nt"> order</span><span class="p">:</span><span class="w"> </span><span class="nv">NLO_QCD</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="nv">ATLAS_ttW_8TeV</span><span class="p p-Indicator">,</span><span class="nt"> order</span><span class="p">:</span><span class="w"> </span><span class="nv">NLO_QCD</span><span class="p p-Indicator">}</span>


<span class="c1"># Coefficients to fit</span>
<span class="nt">coefficients</span><span class="p">:</span>

<span class="w">  </span><span class="nt">O81qq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="w"> </span><span class="s">&#39;min&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">-2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;max&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">2</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="nt">O83qq</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="w"> </span><span class="s">&#39;min&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">-2</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;max&#39;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="nv">2</span><span class="w"> </span><span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>The datasets entry shows which datasets enter the fit, and the coefficients to be fitted are the four-fermion operators we defined earlier. We are now ready to run our first linear fit.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!smefit A ./downloads/runcards_tutorial/runcard_ttV.yaml
</pre></div>
</div>
</div>
<p>The fit should have finished, and the 95% exclusion contour can now be displayed by</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!smefit R ./downloads/runcards_tutorial/runcard_report_ttV.yaml
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># show the exclusion contour
Image(filename=&#39;./reports/report_ttV/meta/contours_2d.png&#39;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/fitting_code_tutorial_23_0.png" src="../_images/fitting_code_tutorial_23_0.png" />
</div>
</div>
<p><strong>Question 1C</strong></p>
<ul class="simple">
<li><p>What special behaviour do you observe between the two operators?</p></li>
<li><p>What options do we have to further constrain this 2-dim parameters space? Name at least three.</p></li>
</ul>
</section>
<section id="Exercise-2---Adding-more-measurements">
<h2>Exercise 2 - Adding more measurements<a class="headerlink" href="#Exercise-2---Adding-more-measurements" title="Link to this heading">#</a></h2>
<p>The two operators from exercise 1 modify more than just <span class="math notranslate nohighlight">\(ttZ\)</span>. In this exercise we want to assess the additional impact on the SMEFT parameter space coming from top-quark pair production differential measurements. We consider bins differential in the invariant mass of the top pair.</p>
<p>Let’s proceed as before in exercise 1.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!smefit A ./downloads/runcards_tutorial/runcard_tt_mtt.yaml
</pre></div>
</div>
</div>
<p>The report can be produced again with</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!smefit R ./downloads/runcards_tutorial/runcard_report_tt_mtt.yaml
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># show the exclusion contour
Image(filename=&#39;./reports/report_tt_mtt/meta/contours_2d.png&#39;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/fitting_code_tutorial_30_0.png" src="../_images/fitting_code_tutorial_30_0.png" />
</div>
</div>
<p><strong>Question 2A</strong></p>
<ul class="simple">
<li><p>Can we exclude the SM?</p></li>
<li><p>What special behaviour do you observe between the two operators and how does this compare to exercise 1?</p></li>
</ul>
<p>Ultimately we should perform a combined fit of <span class="math notranslate nohighlight">\(ttV\)</span> and <span class="math notranslate nohighlight">\(t\bar{t}\:(m_{t\bar{t}})\)</span> data. Both are affected by the same four-fermion operators considered in this tutorial after all.</p>
<p><strong>Question 2B</strong></p>
<ul class="simple">
<li><p>Modify the runcards yourself this time to run the combined fit</p></li>
<li><p>Produce the exclusion contour</p></li>
</ul>
<p>Hint: you should find</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># show the exclusion contour
Image(filename=&#39;./reports/report_combined/meta/contours_2d.png&#39;)
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/fitting_code_tutorial_34_0.png" src="../_images/fitting_code_tutorial_34_0.png" />
</div>
</div>
<p><strong>Question 2C</strong></p>
<ul class="simple">
<li><p>Comment on the interplay between the two classes of measurements</p></li>
<li><p>What lesson do you take from this?</p></li>
</ul>
</section>
<section id="Exercise-3---quadratic-fits">
<h2>Exercise 3 - quadratic fits<a class="headerlink" href="#Exercise-3---quadratic-fits" title="Link to this heading">#</a></h2>
<p>So far all the fits have been linear in the EFT expansion. In this last exercise you will study how the previous results change under the effect of quadratic EFT corrections. For this, you should set <code class="docutils literal notranslate"><span class="pre">use_quad:</span> <span class="pre">True</span></code> in the fit runcard and run the fit with <code class="docutils literal notranslate"><span class="pre">&quot;A&quot;</span></code> replaced by <code class="docutils literal notranslate"><span class="pre">&quot;NS&quot;</span></code>:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!smefit NS ./downloads/runcards_tutorial/runcard_tt_mtt_quad.yaml
</pre></div>
</div>
</div>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="running.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">How to run the code</p>
      </div>
    </a>
    <a class="right-next"
       href="../report/tools.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Report functions</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#What-is-SMEFiT?">What is SMEFiT?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Exercise-0---Installing-SMEFiT">Exercise 0 - Installing SMEFiT</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Exercise-1---Our-first-fit-with-SMEFiT">Exercise 1 - Our first fit with SMEFiT</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Exercise-2---Adding-more-measurements">Exercise 2 - Adding more measurements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Exercise-3---quadratic-fits">Exercise 3 - quadratic fits</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jaco ter Hoeve, Luca Mantani, Alejo Rossia, Giacomo Magni, Tommaso Giani and Juan Rojo
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025, the SMEFiT developers&#39; team.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>